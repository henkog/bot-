<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #121212; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; }
        .slot-machine { background: #222; border: 5px solid #f39c12; border-radius: 20px; padding: 20px; box-shadow: 0 0 30px #f39c1255; }
        .slots { display: flex; gap: 10px; font-size: 50px; background: white; padding: 10px; border-radius: 10px; color: black; }
        .slot { width: 70px; height: 80px; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .btn { margin-top: 30px; background: linear-gradient(135deg, #f39c12, #d35400); border: none; padding: 15px 40px; color: white; border-radius: 50px; font-size: 20px; font-weight: bold; cursor: pointer; }
        .btn:disabled { background: #555; }
        #status { margin-top: 20px; font-size: 18px; color: #f39c12; }
    </style>
</head>
<body>
    <div class="slot-machine">
        <div class="slots">
            <div class="slot" id="s1">ðŸŽ°</div>
            <div class="slot" id="s2">ðŸŽ°</div>
            <div class="slot" id="s3">ðŸŽ°</div>
        </div>
    </div>
    <button class="btn" id="spinBtn" onclick="spin()">ÐšÐ Ð£Ð¢Ð˜Ð¢Ð¬ (100ðŸ’°)</button>
    <div id="status">Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹ Ðº Ð¸Ð³Ñ€Ðµ?</div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        const symbols = ['ðŸ’', 'ðŸ‹', 'ðŸ‡', 'ðŸ””', 'ðŸ’Ž', '7ï¸âƒ£'];

        function spin() {
            const btn = document.getElementById('spinBtn');
            const status = document.getElementById('status');
            btn.disabled = true;
            status.innerText = "ÐšÑ€ÑƒÑ‚Ð¸Ð¼...";

            let count = 0;
            const interval = setInterval(() => {
                document.getElementById('s1').innerText = symbols[Math.floor(Math.random() * symbols.length)];
                document.getElementById('s2').innerText = symbols[Math.floor(Math.random() * symbols.length)];
                document.getElementById('s3').innerText = symbols[Math.floor(Math.random() * symbols.length)];
                count++;
                if (count > 20) {
                    clearInterval(interval);
                    finish();
                }
            }, 50);
        }

        function finish() {
            const s1 = document.getElementById('s1').innerText;
            const s2 = document.getElementById('s2').innerText;
            const s3 = document.getElementById('s3').innerText;
            
            let isWin = (s1 === s2 && s2 === s3);
            document.getElementById('status').innerText = isWin ? "Ð’Ð«Ð˜Ð“Ð Ð«Ð¨! ðŸŽ‰" : "ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ ÐµÑ‰Ðµ Ñ€Ð°Ð·!";
            
            // ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð±Ð¾Ñ‚Ñƒ
            setTimeout(() => {
                tg.sendData(JSON.stringify({ win: isWin }));
            }, 1000);
        }
    </script>
</body>
</html>